<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="dwtsp.web.app">
    <meta name="apple-mobile-web-app-title" content="dwtsp">
    <meta name="msapplication-starturl" content="/index.html">

    <title>DWTSP - Contato Direto pelo WhatsApp</title>
    <style type="text/css">
        input {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        * {

            box-sizing: border-box;
        }

        body {
            background-color: #999;
        }

        h3 {
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }
        
        img {
            height: 140px;
        } 

        input[type=text], select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
            font-size: 20px;
        }

        label {
            padding: 12px 12px 12px 0px;
            display: inline-block;
            width: 100%;
            text-align: left;
            font-size: 20px;
        }

        input[type=button] {
            display: block;
            background-color: #4CAF50;
            color: white;
            margin-top: 8px;
            margin-left: auto;
            margin-right: auto;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
        }

        input[type=button]:hover {
            background-color: #45a049;
        }

        input[type=reset] {
            background-color: #f44336;
            color: white;
            margin-top: 12px;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
        }

        input[type=reset]:hover {
            background-color: #ab3f33;
        }

        .center {
            margin: auto;
            width: 50%;
            padding: 10px;
        }

        .container {
            border-radius: 5px;
            background-color: #f2f2f2;
            padding: 20px;
            width: 100%;
            align: center;
        }

        .col-20 {
            float: left;
            width: 20%;
            margin-top: 6px;
        }

        .col-80 {
            float: right;
            width: 80%;
            margin-top: 6px;
        }

        .row-botton {
            margin-top:12px;
        }

        /* Clear floats after the columns */
        .row:after, .row-botton:after {
            content: "";
            display: table;
            clear: both;
        }


        /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
        @media screen and (max-width: 1440px) {
            .col-20, .col-80, input[type=submit], input[type=reset] {
                width: 100%;
                margin-top: 0;
            }
         }

        img.displayed {
            display: block;
            margin-left: auto;
            margin-right: auto; 
        }

        h3 {
            text-align: center;
            font-family: verdana;
            text-decoration: 
        }

    </style>
    <script>
       function abreWhats(evt) {  

         phone = encodeURIComponent(window.document.getElementsByName("phone")[0].value);
         text = encodeURIComponent(window.document.getElementsByName("text")[0].value);
         console.log(phone);
         console.log(text);
         if (phone != '') {
            // Fix Api Whatsapp on Desktops
            userAgent = window.navigator.userAgent;
            console.log(userAgent)
            iphone = (userAgent.indexOf("iPhone") >= 0?true:false);
            android = (userAgent.indexOf("Android") >= 0?true:false);
            console.log(iphone);
            console.log(android);
            console.log(iphone || android);
            // check if is a mobile
            if (iphone || android)
            {
                window.open('https://api.whatsapp.com/send?phone='+phone+'&text='+text);
            } else {// all others
                window.open('https://web.whatsapp.com/send?phone='+phone+'&text='+text,'_blank');
            }
        }    
       }
    </script>
</head>
<body>
    <div class="container center" id="conteudo">  
        <div class="row">
           <img  class="displayed" src="img/logo-dwtsp.png" alt="DWTSP">
        </div>
        <div class="row">
             <h3>ENVIAR MENSAGEM PELO WHATSAPP</h3> 
        </div>    
        <div class="row">
            <div class="col-20">
               <label for="phone">Telefone</label>
            </div>
            <div class="col-80">
               <input type="text" name="phone" placeholder="formato: 5547999991234">
            </div>
        </div>
        <div class="row">
            <div class="col-20">
               <label for="text">Mensagem</label>
            </div>
            <div class="col-80">
               <input type="text" name="text" />
            </div>   
        </div>
        <div class="row-botton">  
            <input type="button" onclick="abreWhats()" value="Enviar" />
        </div>
        </form>
    </div>    

</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDEQ0L3QYUKxXucJjMe30lrI0_XZmcDNZk",
      authDomain: "services-sandroaf.firebaseapp.com",
      projectId: "services-sandroaf",
      storageBucket: "services-sandroaf.appspot.com",
      messagingSenderId: "8530075618",
      appId: "1:8530075618:web:476219e15e278d98d2a3bb",
      measurementId: "G-STZ7LQHZK3"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</html>


